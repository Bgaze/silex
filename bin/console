#!/usr/bin/env php
<?php
// Define application root path.
define('ROOT', realpath(__DIR__ . '/..'));

// Load dependencies.
require_once ROOT . '/vendor/autoload.php';

// Disable time limit.
set_time_limit(0);

// Manage console input.
use Symfony\Component\Console\Input\ArgvInput;
$input = new ArgvInput();
$env = $input->getParameterOption(array('--env', '-e'), getenv('SYMFONY_ENV') ?: 'dev');

// Create application.
require ROOT . '/src/app.php';

// Load configuration.
require ROOT . '/src/config/' . $env . '.php';

// Load console.
$console = require ROOT . '/src/console.php';

// Run.
$console->run();
